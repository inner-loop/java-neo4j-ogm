{"name":"Java-neo4j-ogm","tagline":"A minimalist Java Object Graph Mapper (OGM) for Neo4J.","body":"java-neo4j-ogm\r\n==============\r\n\r\nA minimalist Java Object Graph Mapper (OGM) for Neo4J.\r\n\r\n[![Build Status](https://travis-ci.org/inner-loop/java-neo4j-ogm.svg?branch=master)](https://travis-ci.org/inner-loop/java-neo4j-ogm)\r\n\r\n\r\n# Features\r\n\r\n1. Mapping of POJO's to Neo4J Nodes & Relationships with minimal use of annotations.\r\n1. First class support for Cypher querying with automatic domain mapping of results.\r\n1. Persistence by reachability. No need to call save() for objects already in the database!\r\n1. Built with Rich Domains in mind!  Support for automatic retrieval of [DDD](http://en.wikipedia.org/wiki/Domain-driven_design) aggregates via the ```@Aggregate``` annotation.\r\n1. Annotation overriding for when defaults aren't good enough.\r\n1. Fast class scanning on startup with [Reflections](https://github.com/ronmamo/reflections).\r\n1. Efficient statement batching thanks to [Java Neo4J Client](https://github.com/inner-loop/java-neo4j-client) Connections.\r\n1. Out of the box support for maps and relationship properties.\r\n\r\n\r\n# Quick Start\r\n\r\nThe Java Neo4J OGM is written for and requires:\r\n\r\n- Java 8+\r\n- Neo4J 2.2+ Standalone Database.\r\n\r\n## Install from Maven\r\n\r\nAdd the following to your ```<dependencies> .. </dependencies>``` section.\r\n\r\n```maven\r\n<dependency>\r\n    <groupId>io.innerloop</groupId>\r\n    <artifactId>java-neo4j-ogm</artifactId>\r\n    <version>0.1.0</version>\r\n</dependency>\r\n```\r\n\r\n## Install from Gradle\r\n\r\nAdd the following to your ```dependencies { .. }``` section.\r\n\r\n```gradle\r\ncompile group: 'io.innerloop', name: 'java-neo4j-ogm', version: '0.1.0'\r\n```\r\n\r\n... or more simply:\r\n\r\n```gradle\r\ncompile: 'io.innerloop:java-neo4j-ogm:0.1.0'\r\n```\r\n\r\n# Usage\r\n\r\n## Initialising the SessionFactory.\r\n\r\nTo intialise the SessionFactory you must supply it with an instance \r\nof a [Neo4JClient](https://github.com/inner-loop/java-neo4j-client/blob/master/src/main/java/io/innerloop/neo4j/client/Neo4jClient.java)\r\n as well as the location of the base of the domain POJO's you would like to be mapped (or an array of locations).\r\n\r\nClasses must:\r\n\r\n1. Have a field of type ```Long``` called ```id```. It may have any visibility modifier. Note that this ID should not\r\nbe relied upon to be unique. It is an implementation detail exposed by Neo4J.\r\n1. Have a field marked with the annotation ```@Id```. This field must hold a unique identifier for that Class.\r\n\r\nTo ignore classes in scanning mark them with the ```@Transient``` annotation.\r\n\r\n\r\nIt's worth noting that this OGM does not support lazy loading by default. This will probably be partially supported in the\r\nnext release.\r\n\r\n# Examples\r\n\r\n#Basic Example\r\n\r\nLet's model a Twitter domain. We'll keep it simple and have Users and Tweets.\r\n\r\n**User.java**\r\n\r\n```java\r\n// Notice we have no need for annotations!\r\npublic class User\r\n{\r\n    // This is required to be in every class.\r\n    private Long id;\r\n\r\n    // Each class must have exactly one @Id.\r\n    // The next release will have a UUIDGenerator annotation that\r\n    // will replace the need to have a converter and a generator in the constructor.\r\n    @Id\r\n    @Convert(UUIDConverter.class)\r\n    private UUID uuid;\r\n\r\n    // We can also specify as many indexes and constraints we we want!\r\n    @Index(unique=true)\r\n    private String username;\r\n\r\n    private String passwordHash;\r\n\r\n    private String name;\r\n    \r\n    // Again no annotation unless we want to model the relationship differently.\r\n    // @Fetch will force this object to automatically load Tweets eagerly.\r\n    private List<Tweet> posts;\r\n\r\n    // You must supply a public empty constructor.\r\n    public User()\r\n    {\r\n    }\r\n\r\n    public User(String username, String password, String name)\r\n    {\r\n        this.uuid = UuidGenerator.generate(); // this is just a generator that comes bundled with the OGM.\r\n        this.name = name;\r\n        this.passwordHash = BCrypt.hashpw(password, BCrypt.gensalt());\r\n        this.posts = new ArrayList<>();\r\n    }\r\n    \r\n    public String getUsername() \r\n    {\r\n        return this.username;\r\n    }\r\n    \r\n    public Iterable<Tweet> getPosts()\r\n    {\r\n        return this.posts;\r\n    }\r\n    \r\n    public void post(Tweet tweet)\r\n    {\r\n        this.posts.add(tweet);\r\n    }\r\n}\r\n```\r\n\r\n**Tweet.java**\r\n\r\n```java\r\npublic class Tweet\r\n{\r\n    // This is required to be in every class.\r\n    private Long id;\r\n\r\n    @Id\r\n    @Convert(UUIDConverter.class)\r\n    private UUID uuid;\r\n\r\n    private String text;\r\n\r\n    // You must supply a public empty constructor.\r\n    public Tweet()\r\n    {\r\n    }\r\n\r\n    public Tweet(String username, String password, String name)\r\n    {\r\n        this.uuid = UuidGenerator.generate(); // this is just a generator that comes bundled with the OGM.\r\n        this.name = name;\r\n        this.passwordHash = BCrypt.hashpw(password, BCrypt.gensalt())\r\n    }\r\n    \r\n    public String getUsername() \r\n    {\r\n        return this.username;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```java\r\n// Create a new Neo4j Client\r\nNeo4jClient client = new Neo4jClient(\"http://localhost:7474/db/data\", \"neo4j\", \"neo4j\");\r\n\r\n// Obtain a new Session Factory. You should only do this once for a JVM instance.\r\nSessionFactory sessionFactory = new SessionFactory(client, \"com.example.domain\");\r\n\r\n// Obtain a new Session and create a new Transaction.\r\nSession session = sessionFactory.getCurrentSession();\r\nTransaction transaction = session.getTransaction();\r\ntry\r\n{\r\n    transaction.begin(); // Start the Transaction.\r\n    \r\n    User mark = new User(\"@markanrish\", \"password\", \"Mark Angrish\");\r\n    mark.post(new Tweet(\"Here is an awesome Tweet!\");\r\n    \r\n    session.save(mark);\r\n    \r\n    transaction.flush();\r\n    \r\n    User twitterUser = session.load(User.class, \"username\", \"@markangrish\");\r\n    transaction.commit();\r\n\r\n    System.out.println(\"Is the twitterUser Mark? [\" + twitterUser.getUsername().equals(mark.getUsername()) + \"]\");\r\n    System.out.println(\"Does the twitterUser have 1 post? [\" + twitterUser.getPosts().size() + \"]\");\r\n}\r\nfinally\r\n{\r\n    session.close();\r\n}\r\n\r\n```\r\n\r\n\r\n# Spring Support\r\nThis is a simple Java OGM for Neo4J. This OGM is designed to be used\r\nagnostic of any other framework, library or middleware.\r\n\r\nIf you want out of the box Spring support right now check out the \r\n[Spring Data Neo4J project](http://docs.spring.io/spring-data/neo4j/docs/4.0.0.M1/) (of which I'm also a contributor!)\r\n\r\nI plan on adding spring support in a later release.\r\n\r\n## Comparison with Spring Data Neo4J.\r\n\r\n- This OGM does not support the concept of \"Relationship Entities\" natively. Relationships in a Neo4J Database provide\r\nmetadata about the relationship between two nodes. Instead, relationships with properties can be modelled with defining ordering \r\nor grouping semantics (e.g. order a list of objects by a relationship property called 'weight' etc.).\r\n- If you only do things \"the Spring way\" then this project is probably not for you!\r\n\r\n\r\n#Feature Requests / Roadmap\r\n\r\nDo you have a feature request? [Create a new Issue](https://github.com/inner-loop/java-neo4j-ogm/issues/new).\r\n\r\n## Backlog\r\n\r\n- Automatic registration of default converters\r\n- Fix Session/Transaction behaviour.\r\n- Add @Target annotation which will allow DDD style loading against the target's @Id in the referencing class.\r\n- Add performance tests against SDN 4.x\r\n- Introduce statement caching and 2nd Level Session Caching.\r\n- Add support to weight Lists by a relationship property.\r\n- Switch reflective code to Javassist. Remove required ```Long id``` field from classes.\r\n- Add Spring @Transactional Support\r\n- Add Guice/Transaction support.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}